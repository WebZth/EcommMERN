(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{209:function(e,t,a){},236:function(e,t){},238:function(e,t){},251:function(e,t){},253:function(e,t){},281:function(e,t){},282:function(e,t){},287:function(e,t){},289:function(e,t){},296:function(e,t){},315:function(e,t){},345:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var c=a(33),r=a(1),n=(a(209),a(14)),s=a(3),i=a.n(s),o=a(5),u=a(25),l=a(198),d=a(373),j=a(364),b=a(368),p=a(200),h=a(7),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":case"CLEAR_ALERT":return t.data;default:return e}},x=function(e,t,a){return function(c){c({type:"SET_ALERT",data:{msg:e,type:t}}),setTimeout((function(){c({type:"CLEAR_ALERT",data:null})}),1e3*a)}},m=a(23),f=a(2),v=a(17),g=a.n(v),y={isAuthenticated:function(){return!!localStorage.getItem("auth")},isAdmin:function(){if(localStorage.getItem("auth")){var e,t=JSON.parse(localStorage.getItem("auth"));return null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.isAdmin}return!1},extractAuth:function(){return!!localStorage.getItem("auth")&&JSON.parse(localStorage.getItem("auth"))}},w=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/categories");case 3:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(i.a.mark((function e(t,a,c){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/categories/create/".concat(a),c,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(i.a.mark((function e(t,a,c){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/products/".concat(a),c,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.extractAuth(),a=t.token,c=t.user,e.prev=1,e.next=4,g.a.get("/api/orders/".concat(c._id),{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.extractAuth(),c=a.token,r=a.user,e.prev=1,e.next=4,g.a.get("/api/".concat(r._id,"/order/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.extractAuth(),a=t.token,c=t.user,e.prev=1,e.next=4,g.a.get("/api/".concat(c._id,"/orders/getStatusValues"),{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var c,r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=y.extractAuth(),r=c.token,n=c.user,e.prev=1,e.next=4,g.a.put("/api/".concat(n._id,"/order/").concat(a),t,{headers:{Authorization:"Bearer ".concat(r)}});case 4:return s=e.sent,console.log(s),e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.extractAuth(),a=t.token,c=t.user,e.prev=1,e.next=4,g.a.get("/api/products/listAll/".concat(c._id),{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.extractAuth(),c=a.token,r=a.user,e.prev=1,e.next=4,g.a.delete("/api/products/".concat(r._id,"/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var c,r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=y.extractAuth(),r=c.token,n=c.user,e.prev=1,e.next=4,g.a.put("/api/products/".concat(n._id,"/").concat(t),a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(r)}});case 4:return s=e.sent,console.log(s),e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),P=a(195),I=a.n(P),D=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/products?sortBy=".concat(t,"&order=desc&limit=6"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,r,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,a=n.length>1&&void 0!==n[1]?n[1]:6,c=n.length>2&&void 0!==n[2]?n[2]:{},e.prev=3,e.next=6,g.a.post("/api/products/search",{skip:t,limit:a,filters:c});case 6:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0.response.data;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.a.stringify(t),e.prev=1,e.next=4,g.a.get("/api/products/search?".concat(a));case 4:return c=e.sent,console.log(c),e.abrupt("return",c.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/products/".concat(t));case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/related-products/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:null,product:null,size:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{products:Object(m.a)(t.data)});case"FILTERED_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{products:Object(m.a)(t.data.products),size:t.data.size});case"MORE_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{products:[].concat(Object(m.a)(e.products),Object(m.a)(t.data.products)),size:t.data.size});case"SEARCHED_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{products:Object(m.a)(t.data)});case"CREATE_PRODUCT":return Object(f.a)(Object(f.a)({},e),{},{products:[].concat(Object(m.a)(e.products),[t.data])});case"INIT_PRODUCT":return Object(f.a)(Object(f.a)({},e),{},{product:t.data});case"DELETE_PRODUCT":return Object(f.a)(Object(f.a)({},e),{},{products:e.products.filter((function(e){return e._id!==t.data._id}))});case"UPDATE_PRODUCT":return Object(f.a)(Object(f.a)({},e),{},{product:t.data});default:return e}},B=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:c=t.sent,a({type:"INIT_PRODUCTS",data:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(e,t,a){return function(){var c=Object(o.a)(i.a.mark((function c(r){var n;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,U(e,t,a);case 2:n=c.sent,r({type:"FILTERED_PRODUCTS",data:{products:n.products,size:n.size}});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},G=function(e,t,a){return function(){var c=Object(o.a)(i.a.mark((function c(r){var n;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,U(e,t,a);case 2:if((n=c.sent).size){c.next=5;break}throw new Error("No More Products");case 5:r({type:"MORE_PRODUCTS",data:{products:n.products,size:n.size}});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:c=t.sent,a({type:"SEARCHED_PRODUCTS",data:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(e){var t=y.extractAuth(),a=t.token,c=t.user;return function(){var t=Object(o.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(a,c._id,e);case 2:n=t.sent,r({type:"CREATE_PRODUCT",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:c=t.sent,a({type:"INIT_PRODUCT",data:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:c=t.sent,a({type:"INIT_PRODUCTS",data:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(){return function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:a=e.sent,t({type:"INIT_PRODUCTS",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:c=t.sent,a({type:"DELETE_PRODUCT",data:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(c){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e,t);case 2:r=a.sent,c({type:"UPDATE_PRODUCT",data:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},W=a(375),X=a(12),Z={createCart:function(){if(void 0!==window&&!localStorage.getItem("cart")){localStorage.setItem("cart",JSON.stringify([]))}},loadCartFromCache:function(){if(void 0!==window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))},saveCartToCache:function(e){void 0!==window&&localStorage.getItem("cart")&&localStorage.setItem("cart",JSON.stringify(e))},getCartTotal:function(e){return e.reduce((function(e,t){return e+t.price}),0)}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],count:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPULATE_CART":case"ADD_TO_CART":case"REDUCE_ITEM_FROM_CART":case"REMOVE_FROM_CART":return Object(f.a)(Object(f.a)({},e),{},{items:Object(m.a)(t.data.items),count:t.data.count});case"CLEAR_CART":return Object(f.a)(Object(f.a)({},e),{},{items:t.data.items,count:t.data.count});default:return e}},te=function(e){var t=Z.loadCartFromCache(),a=t.find((function(t){return t._id===e._id}));return a?(a.count+=1,t=t.map((function(e){return e._id===a._id?a:e}))):(e.count+=1,t=[].concat(Object(m.a)(t),[e])),function(e){var a;e({type:"ADD_TO_CART",data:{items:t,count:(null===(a=t)||void 0===a?void 0:a.reduce((function(e,t){return e+t.count}),0))||0}}),Z.saveCartToCache(t)}},ae=function(){return function(e){e({type:"CLEAR_CART",data:{items:[],count:0}}),localStorage.removeItem("cart")}},ce=a(363),re=a(0);var ne=function(e){var t=e.id,a=e.name;return Object(re.jsx)(ce.a,{src:"/api/products/photo/".concat(t),alt:a,fluid:!0})};var se=function(e){var t=e.product,a=Object(h.b)();return Object(re.jsxs)(W.a,{className:"bg-light",id:t._id,children:[Object(re.jsx)(W.a.Header,{children:t.product_name}),Object(re.jsxs)(W.a.Body,{children:[Object(re.jsx)(ne,{id:t._id,name:t.product_name}),Object(re.jsx)(W.a.Text,{children:t.description}),Object(re.jsxs)(W.a.Text,{children:["\ud83d\udcb2",t.price]}),Object(re.jsxs)("div",{className:"d-grid gap-2",children:[Object(re.jsxs)(j.a,{as:X.b,to:"/product/".concat(t._id),className:"btn-sm btn-warning",children:[Object(re.jsx)("i",{className:"fas fa-eye text-dark"})," View Details"]}),Object(re.jsxs)(j.a,{onClick:function(){return e=t,c=t.product_name,a(te(e)),void a(x("".concat(c," added to cart"),"success",2));var e,c},className:"btn-sm btn-success",children:[Object(re.jsx)("i",{className:"fas fa-shopping-cart text-light"})," Add to Cart"]})]})]})]})},ie=a(365),oe=a(90);var ue=function(e){var t=e.alert,a=t.msg,c=t.type,r=Object(h.b)();return Object(re.jsx)("div",{className:"text-center",style:{position:"fixed",top:100,width:"100%",zIndex:9999},children:Object(re.jsx)(ie.a,{variant:c,onClick:function(){r((function(e){e({type:"CLEAR_ALERT",data:null})}))},children:Object(re.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(re.jsx)(ie.a.Heading,{className:"mb-0 lead",children:a}),Object(re.jsx)(oe.a,{})]})})})},le=a(372);var de=function(e){return Object(re.jsxs)(le.a,Object(f.a)(Object(f.a)({},e),{},{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(re.jsx)(le.a.Header,{closeButton:!0,children:Object(re.jsx)(le.a.Title,{id:"contained-modal-title-vcenter",children:"Signup Successful"})}),Object(re.jsx)(le.a.Body,{children:Object(re.jsx)("p",{children:"Proceed to Login with your credentials"})}),Object(re.jsx)(le.a.Footer,{children:Object(re.jsxs)(j.a,{className:"btn-dark",as:X.b,to:"/login",onClick:e.onHide,children:[Object(re.jsx)("i",{className:"fas fa-sign-in-alt text-warning"})," Login"]})})]}))},je=a(367),be="/auth",pe=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(be,"/signin"),t);case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(be,"/register"),t);case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Oe=a(197),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":case"CLEAR_AUTH":return t.data;default:return e}},me=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(e);case 2:c=t.sent,localStorage.setItem("auth",JSON.stringify(c)),a({type:"SET_AUTH",data:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fe=function(e){return function(t){localStorage.removeItem("auth"),t({type:"CLEAR_AUTH",data:null}),e.push("/")}};var ve=function(){return Object(re.jsx)("div",{children:Object(re.jsx)("footer",{className:"text-center",children:Object(re.jsxs)("p",{className:"text-muted",style:{fontSize:"12px"},children:["Did you enjoy devROCKET,"," ",Object(re.jsx)("a",{href:"mailto:utsavojha0@gmail.com?subject = Feedback&body = Message",children:"Send Feedback"}),". Check out more projects on my"," ",Object(re.jsx)("a",{href:"https://github.com/webzth/webzth",target:"_blank",rel:"noreferrer",children:"Github"}),". 2021 \xa9 Utsav Ojha"]})})})},ge=(a(345),a(366));function ye(){var e=Object(h.c)((function(e){return e.cart.count})),t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],s=function(){window.pageYOffset>300?n(!0):n(!1)};return Object(r.useEffect)((function(){window.addEventListener("scroll",s)}),[]),Object(re.jsx)(re.Fragment,{children:c&&Object(re.jsxs)("div",{className:"d-flex flex-column align-items-center",style:{position:"fixed",bottom:20,right:10},children:[Object(re.jsxs)(j.a,{variant:"outline-light",className:"my-2 border-0",as:X.b,to:"/cart",children:[Object(re.jsx)("i",{className:"me-1 text-success fas fa-shopping-cart fa-lg"}),Object(re.jsx)(ge.a,{bg:"danger",className:"rounded-circle",children:e})]}),Object(re.jsx)(j.a,{variant:"outline-dark",className:"border-0 rounded-circle align-self-center",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(re.jsx)("i",{className:"text-warning fas fa-arrow-up fa-2x"})})]})})}var we=function(e){var t=e.title,a=void 0===t?"Title":t,c=e.description,s=void 0===c?"Description":c,i=e.className,o=e.children,u=Object(n.g)(),l=Object(h.b)();return Object(r.useEffect)((function(){l((function(e){localStorage.getItem("auth")&&e({type:"SET_AUTH",data:JSON.parse(localStorage.getItem("auth"))})}))}),[l]),Object(r.useEffect)((function(){l(function(e){return function(t){if(localStorage.getItem("auth")){var a=y.extractAuth().token,c=1e3*Object(Oe.decode)(a).exp-6e4;Date.now()>=c&&(t({type:"CLEAR_AUTH",data:null}),localStorage.removeItem("auth"),e.push("/"))}}}(u))}),[l,u]),Object(r.useEffect)((function(){Z.createCart()}),[]),Object(r.useEffect)((function(){l(function(){var e=Z.loadCartFromCache();return function(t){t({type:"POPULATE_CART",data:{items:e,count:(null===e||void 0===e?void 0:e.reduce((function(e,t){return e+t.count}),0))||0}})}}())}),[l]),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(Ae,{}),Object(re.jsx)("div",{className:"p-4 mb-4 bg-light jumbotron",children:Object(re.jsx)(je.a,{children:Object(re.jsxs)("div",{className:"d-md-flex align-items-baseline",children:[Object(re.jsxs)("div",{className:"container-fluid py-5",children:[Object(re.jsx)("p",{className:"display-1",children:a}),Object(re.jsx)("p",{className:"text-light",children:s})]}),Object(re.jsxs)("div",{className:"d-flex",children:[Object(re.jsx)(j.a,{onClick:function(){return u.goBack()},className:"me-2 btn-dark",children:"Back"}),Object(re.jsx)(j.a,{onClick:function(){return u.push("/")},className:"btn-warning",children:"Home"})]})]})})}),Object(re.jsxs)(je.a,{children:[Object(re.jsx)("div",{className:i,children:o}),Object(re.jsx)("hr",{})]}),Object(re.jsx)(ve,{}),Object(re.jsx)(ye,{})]})};var Ne=function(){var e=Object(h.b)(),t=Object(r.useState)("sold"),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(h.c)((function(e){return e.product.products}));return Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(B(c));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a=t.t0.error,e(x(""+a,"warning",3));case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,c]),console.log(s),Object(re.jsxs)(we,{title:"Welcome",description:"A Node & React E-Commerce App",children:[Object(re.jsx)("div",{className:"mb-5",children:Object(re.jsx)(l.a,{label:"Filter products by",children:Object(re.jsxs)(d.a.Select,{className:"bg-light",onChange:function(e){return n(e.target.value)},"aria-label":"filter products by",children:[Object(re.jsx)("option",{value:"sold",children:"Best Sellers"}),Object(re.jsx)("option",{value:"createdAt",children:"Latest Arrivals"})]})})}),Object(re.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(re.jsx)("p",{className:"display-5",children:"sold"===c?"Best Sellers":"Latest Arrivals"}),Object(re.jsx)(j.a,{as:X.b,to:"/shop",className:"btn-sm",variant:"outline-secondary",children:"See More..."})]}),Object(re.jsx)("hr",{}),Object(re.jsx)("div",{children:Object(re.jsx)(b.a,{xs:1,md:2,lg:4,className:"g-4",children:s&&s.map((function(e,t){return Object(re.jsx)(p.a,{children:Object(re.jsx)(se,{product:e},e._id)},t)}))})})]})},ke=a(374),Ce=a(376);var Ae=function(){var e=Object(h.b)(),t=Object(n.g)(),a=Object(h.c)((function(e){return e.alert})),c=Object(h.c)((function(e){return e.auth})),r=Object(h.c)((function(e){return e.cart.count}));return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(ke.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(re.jsxs)(je.a,{children:[Object(re.jsx)(ke.a.Brand,{className:"d-none d-md-block",as:X.c,to:"/",href:"#",children:Object(re.jsxs)("span",{className:"display-4 text-warning",children:["\ud83d\udd25",Object(re.jsx)("small",{className:"text-muted",children:"dev"}),"ROCKET"]})}),(null===c||void 0===c?void 0:c.user)&&Object(re.jsx)(Ce.a.Item,{className:"justify-content-end",children:Object(re.jsxs)(ke.a.Text,{children:["Signed in as:"," ",Object(re.jsx)(X.b,{to:"/dashboard",className:"text-warning",children:null===c||void 0===c?void 0:c.user.name}),Object(re.jsx)("i",{className:"fas fa-sign-out-alt fa-lg mx-2",onClick:function(){return e(fe(t))}})]})}),Object(re.jsx)(ke.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(re.jsx)(ke.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:Object(re.jsxs)(Ce.a,{children:[Object(re.jsx)(Ce.a.Item,{className:"d-md-none",children:Object(re.jsx)(Ce.a.Link,{as:X.c,to:"/",href:"#",children:Object(re.jsxs)("span",{className:"lead text-light",children:[Object(re.jsx)("i",{className:"fa fa-home text-muted mx-1","aria-hidden":"true"}),"HOME"]})})}),Object(re.jsx)(Ce.a.Item,{children:Object(re.jsx)(Ce.a.Link,{as:X.c,to:"/shop",href:"#",children:Object(re.jsxs)("span",{className:"lead text-light",children:[Object(re.jsx)("i",{className:"fas fa-store text-muted mx-1","aria-hidden":"true"}),"SHOP"]})})}),Object(re.jsx)(Ce.a.Item,{children:Object(re.jsx)(Ce.a.Link,{as:X.c,to:"/cart",href:"#",children:Object(re.jsxs)("span",{className:"lead text-light",children:[Object(re.jsx)("i",{className:"fas fa-shopping-cart text-muted mx-1","aria-hidden":"true"}),"CART"," ",Object(re.jsx)(ge.a,{bg:"danger",className:"rounded-circle",children:r})]})})}),!(null===c||void 0===c?void 0:c.user)&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(Ce.a.Item,{children:Object(re.jsx)(Ce.a.Link,{as:X.c,to:"/login",href:"#",children:Object(re.jsxs)("span",{className:"lead text-light",children:[Object(re.jsx)("i",{className:"fas fa-sign-in-alt text-muted mx-1"}),"LOGIN"]})})}),Object(re.jsx)(Ce.a.Item,{children:Object(re.jsx)(Ce.a.Link,{as:X.c,to:"/register",href:"#",children:Object(re.jsxs)("span",{className:"lead text-light",children:[Object(re.jsx)("i",{className:"fa fa-user-plus text-muted mx-1","aria-hidden":"true"}),"REGISTER"]})})})]}),(null===c||void 0===c?void 0:c.user)&&Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(Ce.a.Item,{className:"me-2",children:Object(re.jsx)(Ce.a.Link,{as:X.c,to:"/dashboard",href:"#",children:Object(re.jsxs)("span",{className:"lead text-light",children:[Object(re.jsx)("i",{className:"fas fa-shopping-cart text-muted mx-1","aria-hidden":"true"}),"DASHBOARD"]})})})})]})})]})}),void 0!==(null===a||void 0===a?void 0:a.msg)&&Object(re.jsx)(ue,{alert:a})]})},Ee=a(4),_e=a(199),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:null,category:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CATEGORIES":return Object(f.a)(Object(f.a)({},e),{},{categories:Object(m.a)(t.data)});case"CREATE_CATEGORY":return Object(f.a)(Object(f.a)({},e),{},{categories:[].concat(Object(m.a)(e.categories),[t.data])});default:return e}},Se=function(){return function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:a=e.sent,t({type:"INIT_CATEGORIES",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Re=function(e){var t=y.extractAuth(),a=t.token,c=t.user;return function(){var t=Object(o.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(a,c._id,e);case 2:n=t.sent,r({type:"CREATE_CATEGORY",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:[],price:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":return Object(f.a)(Object(f.a)({},e),{},{category:[].concat(Object(m.a)(e.category),[t.data])});case"REMOVE_CATEGORY":return Object(f.a)(Object(f.a)({},e),{},{category:e.category.filter((function(e){return e!==t.data}))});case"ADD_RANGE":return Object(f.a)(Object(f.a)({},e),{},{price:Object(m.a)(t.data)});default:return e}},Ie=[{_id:0,name:"Any",range:[]},{_id:1,name:"$0 to $9",range:[0,9]},{_id:2,name:"$10 to $19",range:[10,19]},{_id:3,name:"$20 to $29",range:[20,29]},{_id:4,name:"$30 to $39",range:[30,39]},{_id:5,name:"$40 to $49",range:[40,49]},{_id:6,name:"$50 to $59",range:[50,59]},{_id:7,name:"More than $60",range:[60,1e3]}];var De=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.shopFilter.category})),a=Object(h.c)((function(e){return e.category.categories}));return Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(Se());case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a=t.t0.error,e(x(""+a,"warning",3));case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("p",{className:"lead text-light",children:"Filter Products"}),Object(re.jsx)(W.a,{className:"bg-light mb-2",children:Object(re.jsx)(W.a.Body,{children:Object(re.jsxs)(d.a,{children:[Object(re.jsx)(d.a.Text,{children:"Filter by Category"}),Object(re.jsx)("hr",{}),a&&a.map((function(a,c){return Object(re.jsx)(d.a.Check,{inline:!0,onChange:function(c){var r,n=c.target;n.checked&&!t.includes(a._id)&&e((r=a._id,function(e){e({type:"ADD_CATEGORY",data:r})})),!n.checked&&t.includes(a._id)&&e(function(e){return function(t){t({type:"REMOVE_CATEGORY",data:e})}}(a._id))},label:a.name,name:"category",type:"checkbox"},c)}))]})})}),Object(re.jsx)(W.a,{className:"bg-light",children:Object(re.jsx)(W.a.Body,{children:Object(re.jsxs)(d.a,{children:[Object(re.jsx)(d.a.Text,{children:"Filter by Price"}),Object(re.jsx)("hr",{}),Ie.map((function(t,a){return Object(re.jsx)(d.a.Check,{inline:!0,label:t.name,value:t.range,name:"price",type:"radio",onChange:function(){return e((a=t.range,function(e){e({type:"ADD_RANGE",data:a})}));var a}},t._id)}))]})})})]})},Ue=a(369),Le=a(370),ze=a(201),Fe=a(39),Me=a.n(Fe),Be=a(15);var He=function(e){var t=e.id,a=Object(h.b)(),c=Object(h.c)((function(e){return e.product.products}));return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(V(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),a(x(""+e.t0,"warning",3));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t]),Object(re.jsx)(re.Fragment,{children:!Object(Be.isEmpty)(c)&&Object(re.jsxs)("div",{children:[Object(re.jsx)("p",{className:"lead text-secondary mb-3",children:"Related products"}),Object(re.jsx)(b.a,{xs:2,md:3,lg:4,className:"g-2",children:c&&c.map((function(e,t){return Object(re.jsx)(p.a,{children:Object(re.jsx)(se,{product:e},e._id)},t)}))})]})})};var Ge=function(e){var t=e.match,a=Object(h.b)(),c=Object(h.c)((function(e){return e.product.product}));return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(q(t.params.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t.params.id]),c?Object(re.jsxs)(we,{title:c.product_name,description:c.description,children:[Object(re.jsx)("div",{style:{minHeight:"50vh"},className:"bg-light p-3",children:Object(re.jsxs)(b.a,{className:"align-items-center",children:[Object(re.jsxs)(p.a,{sm:12,md:4,className:"mb-3",children:[Object(re.jsx)(ne,{id:c._id,name:c.peoduct_name}),Object(re.jsxs)("div",{className:"text-center",children:[Object(re.jsxs)("p",{className:"lead bg-light",children:["\ud83d\udcb2",c.price]}),c.quantity?Object(re.jsx)(j.a,{onClick:function(){return e=c,t=c.product_name,a(te(e)),void a(x("".concat(t," added to cart"),"success",2));var e,t},variant:"success",className:"btn-sm",children:"Add to Cart"}):Object(re.jsx)(ge.a,{bg:"secondary",children:"Out of Stock"})]})]}),Object(re.jsx)(p.a,{sm:12,md:8,children:Object(re.jsxs)(W.a,{children:[Object(re.jsx)(W.a.Header,{children:Object(re.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(re.jsx)("span",{children:c.product_name}),Object(re.jsx)(ge.a,{bg:"secondary",children:c.quantity?"".concat(c.quantity," In Stock"):"Out of Stock"})]})}),Object(re.jsxs)(Le.a,{children:[Object(re.jsxs)(ze.a,{children:[Object(re.jsx)("span",{className:"text-secondary me-2",children:"Description"}),null===c||void 0===c?void 0:c.description]}),Object(re.jsxs)(ze.a,{children:[Object(re.jsx)("span",{className:"text-secondary me-2",children:"Category"}),Object(re.jsx)(ge.a,{bg:"info",children:null===c||void 0===c?void 0:c.category.name})]}),Object(re.jsxs)(ze.a,{children:[Object(re.jsx)("span",{className:"text-secondary me-2",children:"Shipping"}),(null===c||void 0===c?void 0:c.shipping)?"Available":"Not available"]}),Object(re.jsxs)(ze.a,{children:[Object(re.jsx)("span",{className:"text-secondary me-2",children:"Price"}),"\ud83d\udcb2",c.price]}),Object(re.jsxs)(ze.a,{children:[Object(re.jsx)("span",{className:"text-secondary me-2",children:"Added"}),Object(re.jsx)(Me.a,{fromNow:!0,children:c.createdAt})]})]})]})})]})}),Object(re.jsx)("hr",{className:"mb-3"}),Object(re.jsx)(He,{id:c._id})]}):Object(re.jsx)(Ue.a,{animation:"border",role:"status",children:Object(re.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Ye=function(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1];return{type:e,value:c,onChange:function(e){n(e.target.value)},reset:function(){return n("")}}},$e=function(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1];return{type:e,value:c,onChange:function(e){return n(e.target.files[0])},reset:function(){return n("")}}};var qe=function(){var e=Object(h.b)(),t=Ye("search"),a=t.reset,c=Object(Ee.a)(t,["reset"]),n=Ye("text"),s=n.reset,u=Object(Ee.a)(n,["reset"]),l=Object(h.c)((function(e){return e.shopFilter})),O=Object(h.c)((function(e){return e.product.products})),m=Object(h.c)((function(e){return e.category.categories})),v=Object(r.useRef)(0);Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v.current=0,t.next=4,e(H(v.current,6,l));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(x(""+t.t0,"warning",3));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,l,v,6]);var g=function(){var t=Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=v.current+6,t.next=4,e(G(a,6,l));case 4:v.current=a,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),v.current=0,e(x(""+t.t0,"warning",3));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(o.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n={search:c.value,category:u.value||"All"},t.prev=2,t.next=5,e(Y(n));case 5:a(),s(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e(x(""+t.t0,"warning",3));case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(re.jsxs)(we,{title:"Marketplace",description:"Browse the latest and best on devSOCKET",children:[Object(re.jsxs)(d.a,{className:"d-flex",onSubmit:y,children:[Object(re.jsxs)(d.a.Select,Object(f.a)(Object(f.a)({className:"bg-light"},u),{},{children:[Object(re.jsx)("option",{value:"All",children:"All"}),!Object(Be.isEmpty)(m)&&m.map((function(e){return Object(re.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),Object(re.jsx)(_e.a,Object(f.a)({"aria-label":"Search bar to look for products",placeholder:"Look for specific products"},c)),Object(re.jsx)(j.a,{type:"submit",variant:"outline-warning",children:Object(re.jsx)("i",{className:"fas fa-search fa-2x"})})]}),Object(re.jsxs)(b.a,{children:[Object(re.jsx)(p.a,{xs:12,sm:4,className:"mb-3",children:Object(re.jsx)(De,{})}),Object(re.jsxs)(p.a,{xs:12,sm:8,className:"mb-3",children:[Object(re.jsx)("p",{className:"lead text-light",children:"Shop"}),Object(re.jsxs)(b.a,{xs:1,md:2,lg:3,className:"g-3",children:[Object(Be.isEmpty)(O)&&Object(re.jsx)("p",{className:"text-muted",children:"No Products found"}),!Object(Be.isEmpty)(O)&&O.map((function(e,t){return Object(re.jsx)(p.a,{children:Object(re.jsx)(se,{product:e},e._id)},t)}))]}),Object(re.jsx)(j.a,{onClick:function(){return g()},variant:"outline-secondary",children:"Load More"})]})]})]})},Ve=a(371),Je="/api/payments",Qe=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.extractAuth(),a=t.token,c=t.user,e.prev=1,e.next=4,g.a.get("".concat(Je,"/").concat(c._id),{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.extractAuth(),c=a.token,r=a.user,e.prev=1,e.next=4,g.a.post("".concat(Je,"/").concat(r._id),t,{headers:{Authorization:"Bearer ".concat(c)}});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.extractAuth(),c=a.token,r=a.user,e.prev=1,e.next=4,g.a.post("api/orders/".concat(r._id),t,{headers:{Authorization:"Bearer ".concat(c)}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Xe=a(202),Ze=a.n(Xe);var et=function(e){var t=e.products,a=e.amount;console.log(t);var c=Object(h.b)(),n=Object(r.useState)({success:!1,clientToken:null,error:"",instance:{},address:""}),s=Object(u.a)(n,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){i.clientToken||Qe().then((function(e){o(Object(f.a)(Object(f.a)({},i),{},{clientToken:e.clientToken,success:e.success}))})).catch((function(e){return console.log(e)}))}),[i]),Object(re.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-stretch",children:Object(re.jsx)(re.Fragment,{children:i.clientToken&&!Object(Be.isEmpty)(t)&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("p",{className:"lead ",children:["Your Total: \ud83d\udcb2",a]}),Object(re.jsxs)(d.a.Group,{className:"mb-3",controlId:"address",children:[Object(re.jsx)(d.a.Label,{children:"Delivery Address"}),Object(re.jsx)(d.a.Control,{value:i.value,onChange:function(e){var t=e.target;return o(Object(f.a)(Object(f.a)({},i),{},{address:t.value}))},placeholder:"1234 Main St",required:!0})]}),Object(re.jsx)(Ze.a,{options:{authorization:i.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return i.instance=e}}),Object(re.jsxs)(j.a,{onClick:function(){return function(e){if(!i.address)return c(x("Address is required to proceed","warning",3));i.instance.requestPaymentMethod().then((function(a){var r={nonce:a.nonce,amount:e};Ke(r).then((function(a){var r={products:t,transaction_id:a.transaction.id,amount:e,address:i.address};We(r).then((function(e){return console.log(e)})).catch((function(e){return c(x(""+e,"warning",5))})),o(Object(f.a)(Object(f.a)({},i),{},{success:a.success})),c(x("Payment Successful! Order Confirmed","success",2)),c(ae())})).catch((function(e){return c(x(""+e.message,"warning",2))}))})).catch((function(e){return c(x(""+e.message,"warning",2))}))}(a)},className:"btn-success",children:[Object(re.jsxs)(ge.a,{bg:"dark p-2",children:["\ud83d\udcb2",a]})," Pay Now"]})]})})})};var tt=function(){var e=Object(h.b)(),t=Object(n.g)(),a=Object(h.c)((function(e){return e.auth})),c=Object(h.c)((function(e){return e.cart})),s=c.items,i=c.count,o=function(t,a){e(function(e){var t=Z.loadCartFromCache(),a=t.filter((function(t){return t._id!==e}));return function(e){e({type:"REMOVE_FROM_CART",data:{items:a,count:(null===t||void 0===t?void 0:t.reduce((function(e,t){return e+t.count}),0))||0}}),Z.saveCartToCache(a)}}(t)),e(x("".concat(a," deleted from cart"),"success",2))},l=Object(r.useState)(!1),d=Object(u.a)(l,2),b=d[0],p=d[1];return Object(re.jsxs)(we,{title:"My Cart",description:"Review items in your cart, Proceed to Checkout or continue Shopping",children:[Object(re.jsxs)("div",{children:[Object(re.jsxs)("p",{className:"lead text-center",children:["There are ",Object(re.jsx)("span",{className:"text-success",children:i})," items in your cart"]}),Object(re.jsxs)(Ve.a,{striped:!0,className:"mt-3",responsive:!0,children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{className:"text-center",children:[Object(re.jsx)("th",{children:"Item"}),Object(re.jsx)("th",{children:"Description"}),Object(re.jsx)("th",{children:"Quantity"}),Object(re.jsx)("th",{children:"Price"}),Object(re.jsx)("th",{children:"Discard"})]})}),Object(re.jsx)("tbody",{children:!Object(Be.isEmpty)(s)&&s.map((function(t,a){return Object(re.jsxs)("tr",{className:"text-center",id:t._id,children:[Object(re.jsx)("td",{children:Object(re.jsx)(ne,{id:t._id,name:t.product_name})}),Object(re.jsx)("td",{children:t.description}),Object(re.jsxs)("td",{children:[Object(re.jsx)("i",{onClick:function(){t.count>1&&(e(function(e){var t=Z.loadCartFromCache(),a=t.find((function(t){return t._id===e._id}));return a.count>1&&(a.count=a.count-1,t=t.map((function(e){return e._id===a._id?a:e}))),function(e){var a;e({type:"REDUCE_ITEM_FROM_CART",data:{items:t,count:(null===(a=t)||void 0===a?void 0:a.reduce((function(e,t){return e+t.count}),0))||0}}),Z.saveCartToCache(t)}}(t)),e(x("Item removed","secondary",2)))},className:"fas fa-minus text-danger"})," ",Object(re.jsx)("span",{children:t.count})," ",Object(re.jsx)("i",{onClick:function(){e(te(t)),e(x("Item added","success",2))},className:"fas fa-plus text-primary"})]}),Object(re.jsxs)("td",{children:["\ud83d\udcb2",t.price*t.count]}),Object(re.jsx)("td",{children:Object(re.jsx)(j.a,{onClick:function(){return o(t._id,t.product_name)},variant:"outline-danger",children:Object(re.jsx)("i",{className:"fas fa-trash"})})})]},a)}))})]}),Object(Be.isEmpty)(s)&&Object(re.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(re.jsx)("p",{children:"There are no items in your cart"}),Object(re.jsx)(j.a,{as:X.b,to:"/shop",className:"mx-2 btn-sm",variant:"outline-primary",children:"Continue Shopping"})]})]}),!Object(Be.isEmpty)(s)&&Object(re.jsxs)("div",{className:"mb-3 d-flex justify-content-between align-items-center",children:[Object(re.jsxs)(j.a,{onClick:function(){return e(ae()),void e(x("Cart has been cleared","secondary",2))},variant:"danger",children:["Clear Cart ",Object(re.jsx)("i",{className:"fas fa-times-circle"})]}),Object(re.jsx)(j.a,{onClick:function(){return y.isAuthenticated()||t.push("/login"),void p(!b)},variant:"success",children:!Object(Be.isEmpty)(s)&&(null===a||void 0===a?void 0:a.token)?b?"Cancel Checkout":"Checkout":"Login and Proceed to Checkout"})]}),b&&!Object(Be.isEmpty)(s)&&(null===a||void 0===a?void 0:a.token)&&Object(re.jsx)(et,{products:s,amount:Z.getCartTotal(s)})]})},at=a(16);var ct=function(){var e=Object(h.b)(),t=Object(n.g)(),a=Object(n.h)().state,c="reset",r=Ye("email"),s=r[c],u=Object(Ee.a)(r,[c].map(at.a)),b=Ye("password"),p=b[c],O=Object(Ee.a)(b,[c].map(at.a)),m=function(){var c=Object(o.a)(i.a.mark((function c(r){var n,o,l;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),n={password:O.value,email:u.value},c.prev=2,c.next=5,e(me(n));case 5:s(),p(),t.push("".concat((null===a||void 0===a||null===(o=a.from)||void 0===o?void 0:o.pathname)||"/dashboard")),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(2),l=c.t0.error,e(x(""+l,"warning",3));case 13:case"end":return c.stop()}}),c,null,[[2,9]])})));return function(e){return c.apply(this,arguments)}}();return Object(re.jsx)(we,{title:"Login",description:"Signin to your account here",children:Object(re.jsxs)(d.a,{onSubmit:m,children:[Object(re.jsx)(l.a,{controlId:"email",label:"Email address",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},u),{},{placeholder:"Email address"}))}),Object(re.jsx)(l.a,{controlId:"password",label:"Password",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},O),{},{placeholder:"Password"}))}),Object(re.jsxs)(j.a,{className:"btn-md btn-dark text-secondary",type:"submit",children:[Object(re.jsx)("i",{className:"fas fa-sign-in-alt text-warning"})," LOGIN"]}),Object(re.jsxs)(d.a.Text,{className:"text-muted d-block",children:["Don't have an Account? ",Object(re.jsx)(X.b,{to:"/register",children:"Signup"})]})]})})};var rt=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(h.b)(),s="reset",b=Ye("text"),p=b[s],O=Object(Ee.a)(b,[s].map(at.a)),m=Ye("email"),v=m[s],g=Object(Ee.a)(m,[s].map(at.a)),y=Ye("password"),w=y[s],N=Object(Ee.a)(y,[s].map(at.a)),k=Ye("password"),C=k[s],A=Object(Ee.a)(k,[s].map(at.a)),E=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N.value===A.value){e.next=5;break}return w(),C(),e.abrupt("return",n(x("Passwords don't match","warning",2)));case 5:return a={name:O.value,email:g.value,password:N.value},e.prev=6,e.next=9,he(a);case 9:c(!0),p(),v(),w(),C(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),n(x(""+e.t0,"warning",3));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsxs)(we,{title:"Signup",description:"Create your account here",children:[Object(re.jsxs)(d.a,{onSubmit:E,children:[Object(re.jsx)(l.a,{controlId:"name",label:"Name",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},O),{},{placeholder:"Name"}))}),Object(re.jsx)(l.a,{controlId:"email",label:"Email address",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},g),{},{placeholder:"Email address"}))}),Object(re.jsx)(l.a,{controlId:"password",label:"Password",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},N),{},{placeholder:"Password"}))}),Object(re.jsx)(l.a,{controlId:"confirmPassword",label:"Confirm Password",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},A),{},{placeholder:"Confirm Password"}))}),Object(re.jsxs)(j.a,{className:"btn-md btn-dark text-secondary",type:"submit",children:[Object(re.jsx)("i",{className:"fa fa-user-plus text-warning","aria-hidden":"true"})," ","REGISTER"]}),Object(re.jsxs)(d.a.Text,{className:"text-muted d-block",children:["Don't have an Account? ",Object(re.jsx)(X.b,{to:"/login",children:"Login"})]})]}),Object(re.jsx)(de,{show:a,onHide:function(){return c(!1)}})]})};var nt=function(e){var t=e.component,a=Object(Ee.a)(e,["component"]);return Object(re.jsx)(n.b,Object(f.a)(Object(f.a)({},a),{},{render:function(e){return y.isAuthenticated()?Object(re.jsx)(t,Object(f.a)({},e)):Object(re.jsx)(n.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var st=function(e){var t=e.component,a=Object(Ee.a)(e,["component"]);return Object(re.jsx)(n.b,Object(f.a)(Object(f.a)({},a),{},{render:function(e){return y.isAdmin()?Object(re.jsx)(t,Object(f.a)({},e)):Object(re.jsx)(n.a,{to:{pathname:"/",state:{from:e.location}}})}}))},it=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.extractAuth(),c=a.token,r=a.user,e.prev=1,e.next=4,g.a.put("/api/users/".concat(r._id),t,{headers:{Authorization:"Bearer ".concat(c)}});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.extractAuth(),a=t.token,c=t.user,e.prev=1,e.next=4,g.a.get("/api/".concat(c._id,"/orders"),{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();var ut=function(){return Object(re.jsxs)(W.a,{className:"mb-3",children:[Object(re.jsx)(W.a.Header,{children:"Quick Links"}),Object(re.jsxs)(Le.a,{children:[Object(re.jsx)(ze.a,{children:Object(re.jsxs)(X.b,{to:"/cart",className:"text-decoration-none",children:[Object(re.jsx)("i",{className:"fas fa-shopping-cart text-secondary"})," My Cart"]})}),Object(re.jsx)(ze.a,{children:Object(re.jsxs)(X.b,{to:"/profile/update",className:"text-decoration-none",children:[Object(re.jsx)("i",{className:"fas fa-cog text-secondary"})," Update Profile"]})})]})]})};var lt=function(){var e,t,a,c,n=Object(h.b)(),s=Object(h.c)((function(e){return e.auth})),i=Object(r.useState)([]),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){ot().then((function(e){d(e)})).catch((function(e){return n(x(""+e,"warning",2))}))}),[n]),console.log(l),Object(re.jsx)(we,{title:"Dashboard",description:"Your account information and order history",children:Object(re.jsxs)(b.a,{children:[Object(re.jsx)(p.a,{sm:4,children:Object(re.jsx)(ut,{})}),Object(re.jsxs)(p.a,{sm:8,children:[Object(re.jsxs)(W.a,{className:"mb-3",children:[Object(re.jsx)(W.a.Header,{className:"lead",children:"Your Account Information"}),Object(re.jsxs)(Le.a,{children:[Object(re.jsxs)(ze.a,{className:"text-muted",children:["Name ",Object(re.jsx)("span",{className:"text-dark",children:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.name})]}),Object(re.jsxs)(ze.a,{className:"text-muted",children:["Email ",Object(re.jsx)("span",{className:"text-dark",children:null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.email})]}),Object(re.jsx)(ze.a,{className:"text-muted",children:Object(re.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(re.jsxs)("div",{children:["Role"," ",Object(re.jsx)("span",{className:"text-dark",children:(null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.isAdmin)?"Admin ":"Member"})]}),(null===s||void 0===s||null===(c=s.user)||void 0===c?void 0:c.isAdmin)&&Object(re.jsx)("div",{children:Object(re.jsxs)(j.a,{as:X.b,to:"/admin/dashboard",className:"btn-sm btn-dark",children:[Object(re.jsx)("i",{className:"fas fa-crown text-warning"})," Admin Panel"]})})]})})]})]}),Object(re.jsxs)(W.a,{children:[Object(re.jsx)(W.a.Header,{className:"lead",children:"Your Order History"}),Object(re.jsxs)(Ve.a,{responsive:!0,size:"sm",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Order No."}),Object(re.jsx)("th",{children:"Ordered On"}),Object(re.jsx)("th",{children:"Amount"}),Object(re.jsx)("th",{children:"Order Status"}),Object(re.jsx)("th",{children:"Transaction ID"})]})}),!Object(Be.isEmpty)(l)&&Object(re.jsx)("tbody",{children:l.map((function(e,t){return Object(re.jsxs)("tr",{id:e._id,children:[Object(re.jsx)("td",{children:t+1}),Object(re.jsx)("td",{children:Object(re.jsx)(Me.a,{fromNow:!0,children:e.createdAt})}),Object(re.jsxs)("td",{children:["\ud83d\udcb2",e.amount]}),Object(re.jsx)("td",{children:e.status}),Object(re.jsx)("td",{children:e.transaction_id})]},t)}))}),Object(Be.isEmpty)(l)&&Object(re.jsx)("p",{children:"You have not placed any orders"})]})]})]})]})})};var dt=function(e){var t=e.totalOrders;return Object(re.jsx)("div",{children:Object(re.jsxs)(W.a,{className:"mb-3",children:[Object(re.jsx)(W.a.Header,{children:"Quick Links"}),Object(re.jsxs)(Le.a,{children:[Object(re.jsx)(ze.a,{children:Object(re.jsxs)(X.b,{to:"/create/category",className:"text-decoration-none",children:[Object(re.jsx)("i",{className:"fas fa-sitemap text-secondary"})," Create Category"]})}),Object(re.jsx)(ze.a,{children:Object(re.jsxs)(X.b,{to:"/create/product",className:"text-decoration-none",children:[Object(re.jsx)("i",{className:"fas fa-list text-secondary"})," Create Product"]})}),Object(re.jsx)(ze.a,{children:Object(re.jsxs)(X.b,{to:"/orders",className:"text-decoration-none",children:[Object(re.jsx)("i",{className:"fas fa-cash-register text-secondary"})," View Orders ",Object(re.jsx)(ge.a,{bg:"danger",children:t})]})}),Object(re.jsx)(ze.a,{children:Object(re.jsxs)(X.b,{to:"/manage/products",className:"text-decoration-none",children:[Object(re.jsx)("i",{className:"fas fa-filter text-secondary"})," Manage Products"]})})]})]})})},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[],order:null,totalOrders:0,statusValues:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPULATE_ORDERS":return Object(f.a)(Object(f.a)({},e),{},{orders:Object(m.a)(t.data.orders),totalOrders:t.data.total});case"POPULATE_ORDER":return Object(f.a)(Object(f.a)({},e),{},{order:t.data});case"POPULATE_ORDER_STATUSES":return Object(f.a)(Object(f.a)({},e),{},{statusValues:Object(m.a)(t.data)});default:return e}},bt=function(){return function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:a=e.sent,t({type:"POPULATE_ORDERS",data:{orders:a.orders,total:a.orderCount}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pt=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:c=t.sent,console.log(c),a({type:"POPULATE_ORDER",data:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ht=function(){return function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:a=e.sent,t({type:"POPULATE_ORDER_STATUSES",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ot=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(c){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_(e,t);case 2:r=a.sent,c({type:"POPULATE_ORDER",data:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var xt=function(){var e,t,a,c=Object(h.b)(),n=Object(h.c)((function(e){return e.auth})),s=Object(h.c)((function(e){return e.category.categories})),u=Object(h.c)((function(e){return e.order.totalOrders}));return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Se());case 3:return e.next=5,c(bt());case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.error,c(x(""+t,"warning",3));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(re.jsx)(we,{title:"Admin Panel",description:"Manage your store here",children:Object(re.jsxs)(b.a,{children:[Object(re.jsx)(p.a,{sm:4,children:Object(re.jsx)(dt,{totalOrders:u})}),Object(re.jsxs)(p.a,{sm:8,children:[Object(re.jsxs)(W.a,{className:"mb-3",children:[Object(re.jsx)(W.a.Header,{className:"lead",children:"Your Account Information"}),Object(re.jsxs)(Le.a,{children:[Object(re.jsxs)(ze.a,{className:"text-muted",children:["Name ",Object(re.jsx)("span",{className:"text-dark",children:null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.name})]}),Object(re.jsxs)(ze.a,{className:"text-muted",children:["Email ",Object(re.jsx)("span",{className:"text-dark",children:null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email})]}),Object(re.jsx)(ze.a,{className:"text-muted",children:Object(re.jsx)("div",{className:"d-flex justify-content-between align-items-baseline",children:Object(re.jsxs)("div",{children:["Role"," ",Object(re.jsx)("span",{className:"text-dark",children:(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.isAdmin)?"Admin ":"Member"})]})})})]})]}),Object(re.jsxs)(W.a,{className:"mb-3",children:[Object(re.jsx)(W.a.Header,{className:"lead",children:"Categories"}),Object(re.jsx)(Le.a,{children:s&&s.map((function(e){return Object(re.jsx)(ze.a,{children:e.name},e._id)}))})]})]})]})})};var mt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.category.categories}));Object(r.useEffect)((function(){e(Se())}),[e]);var a="reset",c=Ye("text"),n=c[a],s=Object(Ee.a)(c,[a].map(at.a)),u=Ye("text"),b=u[a],p=Object(Ee.a)(u,[a].map(at.a)),O=Ye("number"),m=O[a],v=Object(Ee.a)(O,[a].map(at.a)),g=Ye("number"),y=g[a],w=Object(Ee.a)(g,[a].map(at.a)),N=Ye("number"),k=N[a],C=Object(Ee.a)(N,[a].map(at.a)),A=Ye("text"),E=A[a],_=Object(Ee.a)(A,[a].map(at.a)),T=$e("file"),S=(T[a],T.value),R=Object(Ee.a)(T,[a,"value"].map(at.a)),P=function(){var t=Object(o.a)(i.a.mark((function t(a){var c,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in a.preventDefault(),c={product_name:s.value,description:p.value,price:v.value,shipping:Number(w.value),category:_.value,quantity:C.value,photo:S},r=new FormData,c)r.set(o,c[o]);return t.prev=4,t.next=7,e($(r));case 7:e(x("Product Added","success",3)),n(),b(),m(),E(),k(),y(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e(x(""+t.t0,"warning",3));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(re.jsx)(we,{title:"Create Product",description:"Add a new product here",children:Object(re.jsx)(W.a,{children:Object(re.jsxs)(W.a.Body,{children:[Object(re.jsx)(W.a.Title,{className:"text-muted",children:"Add a new product to your store"}),Object(re.jsxs)(d.a,{onSubmit:P,children:[Object(re.jsx)(l.a,{controlId:"name",label:"Product Name",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},s),{},{placeholder:"Product Name"}))}),Object(re.jsx)(l.a,{controlId:"description",label:"Description",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},p),{},{as:"textarea",placeholder:"Add a description"}))}),Object(re.jsx)(l.a,{label:"Select a Category",children:Object(re.jsxs)(d.a.Select,Object(f.a)(Object(f.a)({},_),{},{className:"mb-3","aria-label":"Category",children:[Object(re.jsx)("option",{children:"...."}),!Object(Be.isEmpty)(t)&&t.map((function(e,t){return Object(re.jsx)("option",{value:e._id,children:e.name},t)}))]}))}),Object(re.jsx)(l.a,{controlId:"price",label:"Price",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},v),{},{placeholder:"Price"}))}),Object(re.jsx)(l.a,{label:"Select Shipping Availability",children:Object(re.jsxs)(d.a.Select,Object(f.a)(Object(f.a)({},w),{},{className:"mb-3","aria-label":"Shipping",children:[Object(re.jsx)("option",{value:"1",children:"Yes"}),Object(re.jsx)("option",{value:"0",children:"No"})]}))}),Object(re.jsxs)("div",{className:"mb-2",children:[Object(re.jsxs)(d.a.Label,{children:["Quantity"," ",Object(re.jsx)("span",{className:"bg-secondary text-light p-1 rounded",children:C.value||"0"})]}),Object(re.jsx)(d.a.Range,Object(f.a)(Object(f.a)({},C),{},{max:"1000"}))]}),Object(re.jsxs)(d.a.Group,{controlId:"photo",className:"mb-3",children:[Object(re.jsx)(d.a.Label,{children:"Upload Product photo"}),Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},R),{},{name:"photo",accept:"image/*",required:!0}))]}),Object(re.jsxs)(j.a,{className:"btn-dark",type:"submit",children:[Object(re.jsx)("i",{className:"fas fa-paper-plane text-warning"})," Create"]})]})]})})})};var ft=function(){var e=Object(h.b)(),t="reset",a=Ye("text"),c=a[t],r=Object(Ee.a)(a,[t].map(at.a)),n=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={name:r.value},t.prev=2,t.next=5,e(Re(n));case 5:e(x("Category Added","success",3)),c(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),s=t.t0.error,e(x(""+s,"warning",3));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(re.jsx)(we,{title:"Create Category",description:"Add a new product category here",children:Object(re.jsx)(W.a,{children:Object(re.jsxs)(W.a.Body,{children:[Object(re.jsx)(W.a.Title,{className:"text-muted",children:"Add a new category to your store"}),Object(re.jsxs)(d.a,{onSubmit:n,children:[Object(re.jsx)(l.a,{controlId:"category",label:"Category",className:"mb-3",children:Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},r),{},{placeholder:"Category"}))}),Object(re.jsxs)(j.a,{className:"btn-dark",type:"submit",children:[Object(re.jsx)("i",{className:"fas fa-paper-plane text-warning"})," Create"]})]})]})})})};var vt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.order}));return Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(bt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e(x(""+t.t0,"warning",2));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(re.jsxs)(we,{title:"Store Orders",description:"Process new and pending orders",children:[Object(re.jsxs)("p",{className:"display-3 mb-5",children:["Total Orders"," ",Object(re.jsx)("span",{className:"text-warning",children:t.totalOrders})]}),Object(re.jsxs)("div",{children:[Object(re.jsxs)(Ve.a,{striped:!0,responsive:!0,size:"sm",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{className:"text-center",children:[Object(re.jsx)("th",{children:"Order No."}),Object(re.jsx)("th",{children:"OrderID"}),Object(re.jsx)("th",{children:"Order Placed"}),Object(re.jsx)("th",{children:"TransactionID"}),Object(re.jsx)("th",{children:"Status"}),Object(re.jsx)("th",{children:"Amount"}),Object(re.jsx)("th",{children:"UserID"}),Object(re.jsx)("th",{children:"User Name"}),Object(re.jsx)("th",{children:"Delivery Address"}),Object(re.jsx)("th",{children:"Details"})]})}),!Object(Be.isEmpty)(t.orders)&&Object(re.jsx)("tbody",{children:t.orders.map((function(e,t){return Object(re.jsxs)("tr",{className:"text-center",id:e._id,children:[Object(re.jsx)("td",{children:t+1}),Object(re.jsx)("td",{children:e._id}),Object(re.jsx)("td",{children:Object(re.jsx)(Me.a,{fromNow:!0,children:e.createdAt})}),Object(re.jsx)("td",{children:e.transaction_id}),Object(re.jsx)("td",{children:Object(re.jsx)("span",{className:"bg-primary text-light rounded p-1",children:e.status})}),Object(re.jsx)("td",{children:e.amount}),Object(re.jsx)("td",{children:e.user._id}),Object(re.jsx)("td",{children:e.user.name}),Object(re.jsx)("td",{children:e.address}),Object(re.jsx)("td",{children:Object(re.jsx)(X.b,{to:"/order-details/".concat(e._id),children:"View Order"})})]},t)}))})]}),Object(Be.isEmpty)(t.orders)&&Object(re.jsx)("p",{className:"text-muted",children:"There are no orders to process"})]})]})};var gt=function(e){var t=e.match,a=Object(h.b)(),c=Object(h.c)((function(e){return e.order.order})),n=Object(h.c)((function(e){return e.order.statusValues}));Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(pt(t.params.id));case 3:return e.next=5,a(ht());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(x(""+e.t0,"warning",2));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t.params.id]),console.log(c,n);var s=Ye("text"),u=(s.reset,Object(Ee.a)(s,["reset"])),l=function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r={status:u.value},e.next=5,a(Ot(r,c._id));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsxs)(re.Fragment,{children:[Object(Be.isEmpty)(c)&&Object(re.jsx)(Ue.a,{animation:"border",role:"status",children:Object(re.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),!Object(Be.isEmpty)(c)&&Object(re.jsx)(we,{title:"Order Details",description:Object(re.jsx)(Me.a,{fromNow:!0,children:c.createdAt}),children:Object(re.jsx)(W.a,{children:Object(re.jsxs)(Le.a,{children:[Object(re.jsx)(ze.a,{children:Object(re.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(re.jsxs)("span",{children:["OrderID: ",c._id]}),Object(re.jsxs)("span",{children:["Status:"," ",Object(re.jsx)("span",{className:"bg-info rounded p-1",children:c.status})]}),Object(re.jsx)(d.a,{onSubmit:l,children:Object(re.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(re.jsxs)(d.a.Select,Object(f.a)(Object(f.a)({},u),{},{className:"mx-1",size:"sm","aria-label":"Status Update",children:[Object(re.jsx)("option",{children:c.status}),!Object(Be.isEmpty)(n)&&n.filter((function(e){return e!==c.status})).map((function(e,t){return Object(re.jsx)("option",{value:e,children:e},t)}))]})),Object(re.jsx)(j.a,{type:"submit",className:"btn-sm",children:"Update"})]})})]})}),Object(re.jsxs)(ze.a,{children:["Total Products in the order:"," ",c.products.reduce((function(e,t){return e+t.count}),0)]}),Object(re.jsx)(ze.a,{children:Object(re.jsxs)(Le.a,{children:["Products:",Object(re.jsxs)(Ve.a,{responsive:!0,striped:!0,size:"sm",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Product Name"}),Object(re.jsx)("th",{children:"Price"}),Object(re.jsx)("th",{children:"Quantity"}),Object(re.jsx)("th",{children:"Total"}),Object(re.jsx)("th",{children:"Order Placed"}),Object(re.jsx)("th",{children:"Product ID"})]})}),Object(re.jsx)("tbody",{children:c.products.map((function(e,t){return Object(re.jsxs)("tr",{id:e._id,children:[Object(re.jsx)("td",{children:e.product_name}),Object(re.jsxs)("td",{children:["\ud83d\udcb2",e.price]}),Object(re.jsx)("td",{children:e.count}),Object(re.jsxs)("td",{children:["\ud83d\udcb2",e.count*e.price]}),Object(re.jsx)("td",{children:Object(re.jsx)(Me.a,{fromNow:!0,children:e.createdAt})}),Object(re.jsx)("td",{children:e._id})]},t)}))})]})]})})]})})})]})};var yt=function(){var e=Object(h.b)(),t=Object(n.g)(),a="reset",c=Ye("text"),r=c[a],s=Object(Ee.a)(c,[a].map(at.a)),u=Ye("email"),l=u[a],b=Object(Ee.a)(u,[a].map(at.a)),p=Ye("password"),O=p[a],m=Object(Ee.a)(p,[a].map(at.a)),v=function(){var a=Object(o.a)(i.a.mark((function a(c){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),n=Object(f.a)(Object(f.a)(Object(f.a)({},s.value&&{name:s.value}),b.value&&{email:b.value}),m.value&&{password:m.value}),a.prev=2,a.next=5,it(n);case 5:r(),l(),O(),e(x("User Details Updated, Please Log-in","success",2)),e(fe(t)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),e(x(""+a.t0,"warning",2));case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}();return Object(re.jsx)(we,{title:"Update Profile",description:"Update your user details here",children:Object(re.jsxs)(d.a,{onSubmit:v,children:[Object(re.jsxs)(d.a.Group,{className:"mb-3",controlId:"Name",children:[Object(re.jsx)(d.a.Label,{children:"Update Name"}),Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},s),{},{placeholder:"Enter name"}))]}),Object(re.jsxs)(d.a.Group,{className:"mb-3",controlId:"Email",children:[Object(re.jsx)(d.a.Label,{children:"Email address"}),Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},b),{},{type:"email",placeholder:"Enter email"}))]}),Object(re.jsxs)(d.a.Group,{className:"mb-3",controlId:"Password",children:[Object(re.jsx)(d.a.Label,{children:"Update Password"}),Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},m),{},{placeholder:"Enter password"}))]}),Object(re.jsx)(j.a,{type:"submit",className:"btn-dark text-warning",children:"Update"}),Object(re.jsx)("p",{className:"text-muted",children:"You will need to sign-in again."})]})})};var wt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.product.products}));Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(J());case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a=t.t0.error,e(x(""+a,"warning",2));case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var a=function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(Q(a));case 3:e(x("Product Deleted","secondary",2)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(x(""+t.t0,"warning",2));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(re.jsxs)(we,{title:"Manage Inventory",description:"Manage Store inventory and update store products",children:[Object(re.jsx)("p",{className:"lead",children:"Manage Store Inventory"}),Object(re.jsxs)(Ve.a,{striped:!0,responsive:!0,size:"sm",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{className:"text-center",children:[Object(re.jsx)("th",{children:"Item No."}),Object(re.jsx)("th",{children:"Product Name"}),Object(re.jsx)("th",{children:"Category"}),Object(re.jsx)("th",{children:"Created At"}),Object(re.jsx)("th",{children:"Price"}),Object(re.jsx)("th",{children:"Shipping"}),Object(re.jsx)("th",{children:"Quantity"}),Object(re.jsx)("th",{children:"Units Sold"}),Object(re.jsx)("th",{children:"Actions"})]})}),!Object(Be.isEmpty)(t)&&Object(re.jsx)("tbody",{children:t.map((function(e,t){return Object(re.jsxs)("tr",{className:"text-center",id:e._id,children:[Object(re.jsx)("td",{children:t+1}),Object(re.jsx)("td",{children:e.product_name}),Object(re.jsx)("td",{children:e.category.name}),Object(re.jsx)("td",{children:Object(re.jsx)(Me.a,{format:"YYYY-DD-MM",children:e.createdAt})}),Object(re.jsxs)("td",{children:["\ud83d\udcb2",e.price]}),Object(re.jsx)("td",{children:e.shipping?"Available":"Not Available"}),Object(re.jsx)("td",{children:e.quantity||"Out of Stock"}),Object(re.jsx)("td",{children:e.sold}),Object(re.jsx)("td",{children:Object(re.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(re.jsx)(j.a,{as:X.b,to:"/update/product/".concat(e._id),className:"btn-sm mx-1",children:"Update"}),Object(re.jsx)(j.a,{onClick:function(){return a(e._id)},className:"btn-sm btn-danger",children:"Delete"})]})})]},t)}))})]}),Object(Be.isEmpty)(t)&&Object(re.jsx)("p",{children:"There are no products in the store"})]})};var Nt=function(e){var t=e.match,a=Object(h.b)(),c=Object(h.c)((function(e){return e.product.product})),n=Object(h.c)((function(e){return e.category.categories}));Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(Se());case 3:return e.next=5,a(q(t.params.id));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(x(""+e.t0,"warning",2));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t.params.id]),console.log(c);var s="reset",u=Ye("text"),b=u[s],p=Object(Ee.a)(u,[s].map(at.a)),O=Ye("text"),m=O[s],v=Object(Ee.a)(O,[s].map(at.a)),g=Ye("number"),y=g[s],w=Object(Ee.a)(g,[s].map(at.a)),N=Ye("number"),k=N[s],C=Object(Ee.a)(N,[s].map(at.a)),A=Ye("number"),E=A[s],_=Object(Ee.a)(A,[s].map(at.a)),T=Ye("text"),S=T[s],R=Object(Ee.a)(T,[s].map(at.a)),P=$e("file"),I=(P[s],P.value),D=Object(Ee.a)(P,[s,"value"].map(at.a)),U=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in t.preventDefault(),r=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},p.value&&{product_name:p.value}),v.value&&{description:v.value}),w.value&&{price:w.value}),C.value&&{shipping:Number(C.value)}),R.value&&{category:R.value}),_.value&&{quantity:_.value}),I&&{photo:I}),n=new FormData,r)n.set(s,r[s]);return e.prev=4,e.next=7,a(K(c._id,n));case 7:a(x("Product Updated","success",3)),b(),m(),y(),S(),E(),k(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),a(x(""+e.t0,"warning",3));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsx)(we,{title:"Update Product",description:"Update product quantity, name, category and other details here.",children:!Object(Be.isEmpty)(n)&&!Object(Be.isEmpty)(c)&&Object(re.jsx)(W.a,{children:Object(re.jsxs)(W.a.Body,{children:[Object(re.jsx)(W.a.Title,{className:"text-muted",children:"Update your product details"}),Object(re.jsxs)(d.a,{onSubmit:U,children:[Object(re.jsxs)(l.a,{controlId:"name",label:"Product Name",className:"mb-3",children:[Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},p),{},{placeholder:"Product Name"})),Object(re.jsx)(d.a.Text,{children:c.product_name})]}),Object(re.jsxs)(l.a,{controlId:"description",label:"Description",className:"mb-3",children:[Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},v),{},{as:"textarea",placeholder:"Add a description"})),Object(re.jsx)(d.a.Text,{children:c.description})]}),Object(re.jsx)(l.a,{label:"Select a Category",children:Object(re.jsxs)(d.a.Select,Object(f.a)(Object(f.a)({},R),{},{className:"mb-3","aria-label":"Category",children:[Object(re.jsx)("option",{children:"...."}),!Object(Be.isEmpty)(n)&&n.map((function(e,t){return Object(re.jsx)("option",{value:e._id,children:e.name},t)}))]}))}),Object(re.jsxs)(l.a,{controlId:"price",label:"Price",className:"mb-3",children:[Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},w),{},{placeholder:"Price"})),Object(re.jsxs)(d.a.Text,{children:["\ud83d\udcb2",c.price]})]}),Object(re.jsx)(l.a,{label:"Select Shipping Availability",children:Object(re.jsxs)(d.a.Select,Object(f.a)(Object(f.a)({},C),{},{className:"mb-3","aria-label":"Shipping",children:[Object(re.jsx)("option",{value:"1",children:"Yes"}),Object(re.jsx)("option",{value:"0",children:"No"})]}))}),Object(re.jsxs)("div",{className:"mb-2",children:[Object(re.jsxs)(d.a.Label,{children:["Quantity"," ",Object(re.jsx)("span",{className:"bg-secondary text-light p-1 rounded",children:_.value||"0"})]}),Object(re.jsx)(d.a.Range,Object(f.a)(Object(f.a)({},_),{},{max:"1000"})),Object(re.jsx)(d.a.Text,{children:c.quantity})]}),Object(re.jsxs)(d.a.Group,{controlId:"photo",className:"mb-3",children:[Object(re.jsx)(d.a.Label,{children:"Upload Product photo"}),Object(re.jsx)(d.a.Control,Object(f.a)(Object(f.a)({},D),{},{name:"photo",accept:"image/*"}))]}),Object(re.jsxs)(j.a,{className:"btn-dark",type:"submit",children:[Object(re.jsx)("i",{className:"fas fa-paper-plane text-warning"})," Update"]})]})]})})})};var kt=function(){return Object(re.jsx)(re.Fragment,{children:Object(re.jsxs)(n.d,{children:[Object(re.jsx)(nt,{exact:!0,path:"/profile/update",component:yt}),Object(re.jsx)(st,{exact:!0,path:"/update/product/:id",component:Nt}),Object(re.jsx)(st,{exact:!0,path:"/manage/products",component:wt}),Object(re.jsx)(st,{exact:!0,path:"/order-details/:id",component:gt}),Object(re.jsx)(st,{exact:!0,path:"/orders",component:vt}),Object(re.jsx)(n.b,{exact:!0,path:"/cart",component:tt}),Object(re.jsx)(n.b,{exact:!0,path:"/product/:id",component:Ge}),Object(re.jsx)(n.b,{exact:!0,path:"/shop",component:qe}),Object(re.jsx)(st,{exact:!0,path:"/create/category",component:ft}),Object(re.jsx)(st,{exact:!0,path:"/create/product",component:mt}),Object(re.jsx)(st,{exact:!0,path:"/admin/dashboard",component:xt}),Object(re.jsx)(nt,{exact:!0,path:"/dashboard",component:lt}),Object(re.jsx)(n.b,{exact:!0,path:"/register",component:rt}),Object(re.jsx)(n.b,{exact:!0,path:"/login",component:ct}),Object(re.jsx)(n.b,{exact:!0,path:"/",component:Ne})]})})};var Ct=function(){return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(kt,{})})},At=a(73),Et=a(203),_t=a(204),Tt=Object(At.combineReducers)({auth:xe,alert:O,category:Te,product:M,shopFilter:Pe,cart:ee,order:jt}),St=Object(At.createStore)(Tt,Object(Et.composeWithDevTools)(Object(At.applyMiddleware)(_t.a)));Object(c.render)(Object(re.jsx)(h.a,{store:St,children:Object(re.jsx)(X.a,{children:Object(re.jsx)(Ct,{})})}),document.getElementById("root"))}},[[361,1,2]]]);
//# sourceMappingURL=main.c5be37b8.chunk.js.map